(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{23:function(e,t,a){e.exports=a(40)},28:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(18),c=a.n(r),m=a(6),s=a(1),o=(a(28),function(){return l.a.createElement("h1",{className:"title"},"Home Page")}),u=a(21),i=a(22),p=a(13),E=a.n(p),f=a(19),h=function(){var e=Object(f.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,a=t.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=a(11),g=a.n(b),_=(a(30),function(e){var t=e.name,a=e.slug,n=e.sex;return l.a.createElement(m.b,{className:g()("table__list-link",{"table__name-male":"m"===n},{"table__name-female":"f"===n}),to:{pathname:"/peoples/".concat(a)}},t)}),N=(a(36),function(e){var t=e.people,a=Object(s.h)(),n=function(e){return t.find((function(t){return t.name===e}))};return l.a.createElement(l.a.Fragment,null,t.map((function(e){var t=e.slug,r=e.name,c=e.sex,m=e.born,s=e.died,o=e.motherName,u=e.fatherName;return l.a.createElement("tr",{key:e.name,className:g()({selected:"/peoples/".concat(t)===a.pathname})},l.a.createElement("td",{className:"table__list-item"},l.a.createElement(_,{name:r,slug:t,sex:c})),l.a.createElement("td",null,c),l.a.createElement("td",null,m),l.a.createElement("td",null,s),l.a.createElement("td",null,n(o)?l.a.createElement(_,{name:o,slug:n(o).slug,sex:n(o).sex}):l.a.createElement(l.a.Fragment,null,o)),l.a.createElement("td",null,n(u)?l.a.createElement(_,{name:u,slug:n(u).slug,sex:n(u).sex}):l.a.createElement(l.a.Fragment,null,u)))})))}),d=(a(37),function(){var e=Object(s.g)(),t=Object(s.h)(),a=new URLSearchParams(t.search),n=a.get("query")||"";return l.a.createElement("div",{className:"search_person_block"},l.a.createElement("input",{className:"search_person_input",placeholder:"Find person",type:"text",value:n,onChange:function(t){a.set("query",t.target.value.toLocaleLowerCase()),e.push({search:"query="===a.toString()?"":a.toString()})}}))}),v=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(s.h)(),m=new URLSearchParams(c.search).get("query");return Object(n.useEffect)((function(){h().then((function(e){r(e),localStorage.setItem("people",JSON.stringify(e))}))}),[]),Object(n.useEffect)((function(){r(m?JSON.parse(localStorage.getItem("people")).filter((function(e){var t=e.name,a=e.motherName,n=e.fatherName;return t.toLowerCase().includes(m)||a&&a.toLowerCase().includes(m)||n&&n.toLowerCase().includes(m)})):JSON.parse(localStorage.getItem("people")))}),[m]),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"title"},"Peoples Page"),l.a.createElement(d,null),l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"table__title"},l.a.createElement("tr",null,["Name","Sex","Born","Died","Mother","Father"].map((function(e){return l.a.createElement("th",{className:"table__title-item",key:e},e)})))),l.a.createElement("tbody",null,l.a.createElement(N,{people:Object(u.a)(a)}))))},O=(a(38),function(){return l.a.createElement("h1",{className:"title"}," PAGE NOT FOUND ")}),x=(a(39),function(){return l.a.createElement("div",{className:"App"},l.a.createElement("nav",{className:"nav"},l.a.createElement("ul",{className:"nav__block"},l.a.createElement("li",{className:"nav__item"},l.a.createElement(m.c,{className:"nav__link",to:"/",exact:!0},"Home Page")),l.a.createElement("li",{className:"nav__item"},l.a.createElement(m.c,{className:"nav__link",to:"/peoples"},"Peoples Page")))),l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/",exact:!0,component:o}),l.a.createElement(s.b,{path:"/home"},l.a.createElement(s.a,{to:"/"})),l.a.createElement(s.b,{path:"/peoples",component:v}),l.a.createElement(s.b,{path:"*",component:O})))});c.a.render(l.a.createElement(m.a,null,l.a.createElement(x,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.54b07970.chunk.js.map
{"version":3,"sources":["components/HomePage/Home.jsx","api/GetPeople.js","components/PersonName/PersonName.jsx","components/PeoplePage/PeopleList.jsx","components/SearchSection/SearchInput.jsx","components/PeoplePage/PeopleTable.jsx","components/PageNotFound/PageNotFound.jsx","App.js","index.js"],"names":["Home","className","getPeople","a","fetch","response","people","json","PersonName","name","slug","sex","classNames","to","pathname","PeoplesList","location","useLocation","findParent","parentName","find","person","map","born","died","motherName","fatherName","key","selected","SearchInput","history","useHistory","searchParams","URLSearchParams","search","query","get","placeholder","type","value","onChange","event","set","target","toLocaleLowerCase","push","toString","Peoples","useState","setPeople","getUrlQuery","useEffect","api","then","peopleFromServer","localStorage","setItem","JSON","stringify","parse","getItem","filter","toLowerCase","includes","item","PageNotFound","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.26c8a027.chunk.js","sourcesContent":["import React from 'react';\nimport './Home.scss';\n\nexport const Home = () => (\n  <h1 className=\"title\">Home Page</h1>\n);\n","// eslint-disable-next-line max-len\nconst peoples = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nexport const getPeople = async() => {\n  const response = await fetch(peoples);\n  const people = response.json();\n\n  return people;\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport './PersonName.scss';\n\nexport const PersonName = ({ name, slug, sex }) => {\n\n  return (\n    <Link\n      className={classNames('table__list-link',\n        { 'table__name-male': sex === 'm' },\n        { 'table__name-female': sex === 'f' })\n      }\n      to={{ pathname: `/peoples/${slug}` }}\n    >\n      { name}\n    </Link>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport propTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport { PersonName } from '../PersonName/PersonName';\nimport './PeopleStyle.scss';\n\nexport const PeoplesList = ({ people }) => {\n  const location = useLocation();\n\n  const findParent = parentName => (\n    people.find(person => person.name === parentName)\n  );\n\n  return (\n    <>\n      {people.map((person) => {\n        const { slug, name, sex, born, died, motherName, fatherName } = person;\n\n        return (\n          <tr\n            key={person.name}\n            className={\n              classNames(\n                { selected: `/peoples/${slug}` === location.pathname },\n              )}\n          >\n            <td className=\"table__list-item\">\n              <PersonName\n                name={name}\n                slug={slug}\n                sex={sex}\n              />\n            </td>\n            <td>{sex}</td>\n            <td>{born}</td>\n            <td>{died}</td>\n            <td>\n              {findParent(motherName)\n                ? (\n                  <PersonName\n                    name={motherName}\n                    slug={findParent(motherName).slug}\n                    sex={findParent(motherName).sex}\n                  />\n                )\n                : <>{motherName}</>\n              }\n            </td>\n            <td>\n              {findParent(fatherName)\n                ? (\n                  <PersonName\n                    name={fatherName}\n                    slug={findParent(fatherName).slug}\n                    sex={findParent(fatherName).sex}\n                  />\n                )\n                : <>{fatherName}</>\n              }\n            </td>\n          </tr>\n        );\n      })}\n    </>\n  );\n};\n","import React from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport './SearchInput.scss';\n\nexport const SearchInput = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const query = searchParams.get('query') || '';\n\n  return (\n    <div className=\"search_person_block\">\n      <input\n        className=\"search_person_input\"\n        placeholder=\"Find person\"\n        type=\"text\"\n        value={query}\n        onChange={(event) => {\n          searchParams.set('query', (event.target.value).toLocaleLowerCase());\n          history.push({\n            search: searchParams.toString() === 'query='\n              ? ''\n              : searchParams.toString(),\n          });\n        }}\n      />\n    </div>\n  );\n};\n","// eslint-disable-next-line no-unused-vars\nimport React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport * as api from '../../api/GetPeople';\nimport { PeoplesList } from './PeopleList';\nimport { SearchInput } from '../SearchSection/SearchInput';\n\nexport const Peoples = () => {\n  const [people, setPeople] = useState('');\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const getUrlQuery = searchParams.get('query');\n\n  const tableTitle = ['Name', 'Sex', 'Born', 'Died', 'Mother', 'Father'];\n\n  useEffect(() => {\n    api.getPeople().then((peopleFromServer) => {\n      setPeople(peopleFromServer);\n      localStorage.setItem('people', JSON.stringify(peopleFromServer));\n    });\n  }, []);\n\n  useEffect(() => {\n    if (getUrlQuery) {\n      setPeople(JSON.parse(localStorage.getItem('people')).filter((person) => {\n        const { name, motherName, fatherName } = person;\n\n        return (name.toLowerCase().includes(getUrlQuery)\n          || (motherName && motherName.toLowerCase().includes(getUrlQuery))\n          || (fatherName && fatherName.toLowerCase().includes(getUrlQuery))\n        );\n      }));\n    } else {\n      setPeople(JSON.parse(localStorage.getItem('people')));\n    }\n  }, [getUrlQuery]);\n\n  return (\n    <>\n      <h1 className=\"title\">Peoples Page</h1>\n      <SearchInput />\n      <table className=\"table\">\n        <thead className=\"table__title\">\n          <tr>\n            {tableTitle.map(item => (\n              <th className=\"table__title-item\" key={item}>{item}</th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {people\n            ? <PeoplesList people={[...people]} />\n            : 'Loading...'\n          }\n        </tbody>\n      </table>\n    </>\n  );\n};\n","import React from 'react';\nimport './PageNotFound.scss';\n\nexport const PageNotFound = () => (<h1 className=\"title\"> PAGE NOT FOUND </h1>);\n","import React from 'react';\nimport { NavLink, Switch, Route, Redirect } from 'react-router-dom';\nimport { Home } from './components/HomePage/Home';\nimport { Peoples } from './components/PeoplePage/PeopleTable';\nimport { PageNotFound } from './components/PageNotFound/PageNotFound';\n\nimport './App.scss';\n\nconst App = () => (\n  <div className=\"App\">\n\n    <nav className=\"nav\">\n      <ul className=\"nav__block\">\n        <li className=\"nav__item\">\n          <NavLink className=\"nav__link\" to=\"/\" exact>Home Page</NavLink>\n        </li>\n        <li className=\"nav__item\">\n          <NavLink className=\"nav__link\" to=\"/peoples\">Peoples Page</NavLink>\n        </li>\n      </ul>\n    </nav>\n\n    <Switch>\n      <Route path=\"/\" exact component={Home} />\n      <Route path=\"/home\">\n        <Redirect to=\"/\" />\n      </Route>\n      <Route path=\"/peoples\" component={Peoples} />\n      <Route path=\"*\" component={PageNotFound} />\n    </Switch>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}